---
import { getCollection } from "astro:content"

import Layout from "../layouts/layout.astro"
import Header from "../components/header.svelte"
import Footer from "../components/footer.svelte"
import NavigateTo from "../components/navigateTo.svelte"
import BackToTop from "../components/backToTop.svelte"
import Project from "../components/project.svelte"

const allProjects = await getCollection("projects")
---

<Layout title="Work">
  <Header />
  <main class="grid gap-4 pt-14">
    <h1 class="mx-8 text-right text-2xl uppercase leading-none md:text-3xl">
      Work
    </h1>
    <section class="pt-6">
      <ul class="grid gap-6 py-4">
        {allProjects.map((project) => <Project project={project} />)}
      </ul>
    </section>
    <article class="mx-8 grid pt-2">
      <NavigateTo href="/print/" text="Print" />
      <BackToTop client:load />
    </article>
  </main>
  <Footer />
</Layout>
